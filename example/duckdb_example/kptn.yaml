settings:
  flows_dir: "." # Workflows (.py) generated by codegen
  py_tasks_dir: "src" # Task code (.py)
  duckdb_tasks_dir: "src" # DuckDB SQL scripts (.sql)
  flow_type: vanilla # Workflow type is vanilla python (no framework)
  db: sqlite

config:
  my_global: 42
  duckdb:
    function: src.utils:get_engine
    parameter_name: engine
  config:
    include: config.json
graphs:
  duckdb_example:
    tasks:
      raw_numbers:
      fruit_metrics: raw_numbers
      fruit_summary: fruit_metrics
      wide_table:
      python_source:
      python_consumer: python_source

tasks:
  raw_numbers:
    file: src/raw_numbers.sql # file://./src/raw_numbers.sql
    outputs:
    - duckdb://main.raw_numbers
  fruit_metrics:
    file: src/fruit_metrics.sql # file://./src/fruit_metrics.sql
    outputs:
    - duckdb://main.fruit_metrics
  fruit_summary:
    file: src/fruit_tasks.py
    outputs:
    - duckdb://main.fruit_summary
  wide_table:
    file: src/wide_table.sql
    outputs:
    - duckdb://main.wide_table
  python_source:
    file: src/python_source.py:run
    outputs:
    - duckdb://main.python_source_table
  python_consumer:
    file: src/python_consumer.sql
    outputs:
    - duckdb://main.python_consumer
